<!DOCTYPE html>
<html lang="so">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tufaax Smart Menu v4</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --tufaax-red: #ff4d4d; --dark-blue: #2b2d42; --gold: #ffb703; }
        body { background: #fdfdfd; font-family: 'Inter', sans-serif; padding-top: 70px; }
        
        /* Category Icons Navigation */
        .top-nav { position: fixed; top: 0; left: 0; right: 0; background: white; z-index: 2000; box-shadow: 0 2px 15px rgba(0,0,0,0.05); padding: 10px 0; }
        .nav-scroller { display: flex; overflow-x: auto; padding: 5px 15px; gap: 15px; scrollbar-width: none; justify-content: center; }
        .nav-scroller::-webkit-scrollbar { display: none; }
        .cat-item { text-align: center; text-decoration: none; color: #666; min-width: 70px; transition: 0.3s; }
        .cat-item i { font-size: 1.5rem; display: block; margin-bottom: 5px; color: #999; }
        .cat-item.active { color: var(--tufaax-red); font-weight: bold; }
        .cat-item.active i { color: var(--tufaax-red); }

        /* Item Grid Styling */
        .section-title { font-weight: 800; font-size: 1.4rem; margin: 25px 0 15px; color: var(--dark-blue); }
        .food-card { background: white; border-radius: 20px; border: 1px solid #f1f1f1; overflow: hidden; margin-bottom: 15px; display: flex; align-items: center; padding: 10px; transition: 0.3s; }
        .food-card:hover { border-color: var(--tufaax-red); box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
        .food-img { width: 85px; height: 85px; border-radius: 15px; object-fit: cover; margin-right: 15px; }
        .item-info { flex-grow: 1; }
        .item-name { font-size: 1rem; font-weight: 700; color: #333; margin-bottom: 3px; }
        .item-price { color: var(--tufaax-red); font-weight: 800; font-size: 1.1rem; }

        /* Modern Add/Remove Buttons */
        .qty-controls { display: flex; align-items: center; gap: 10px; background: #f8f9fa; border-radius: 12px; padding: 5px; }
        .qty-btn { border: none; background: white; width: 32px; height: 32px; border-radius: 8px; color: var(--dark-blue); font-weight: bold; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .qty-val { font-weight: 800; color: var(--dark-blue); min-width: 20px; text-align: center; }

        /* Floating Checkout Bar */
        .checkout-footer { position: fixed; bottom: 0; left: 0; right: 0; background: white; padding: 20px; border-radius: 30px 30px 0 0; box-shadow: 0 -10px 30px rgba(0,0,0,0.08); z-index: 3000; }
        .btn-checkout { background: var(--tufaax-red); color: white; border: none; padding: 15px; border-radius: 18px; width: 100%; font-weight: 800; font-size: 1.1rem; display: flex; justify-content: space-between; align-items: center; }
    </style>
</head>
<body>

    <nav class="top-nav">
        <div class="nav-scroller">
            <a href="#quraac" class="cat-item active"><i class="fas fa-coffee"></i>Quraac</a>
            <a href="#qado" class="cat-item"><i class="fas fa-utensils"></i>Qado</a>
            <a href="#casho" class="cat-item"><i class="fas fa-pizza-slice"></i>Casho</a>
            <a href="#cabitaan" class="cat-item"><i class="fas fa-glass-martini-alt"></i>Cabitaan</a>
        </div>
    </nav>

    <div class="container mb-5">
        <div id="menu-content"></div>
    </div>

    <div class="checkout-footer">
        <button class="btn-checkout" onclick="handleOrder()">
            <span><i class="fab fa-whatsapp me-2"></i>Dalbo Hadda</span>
            <span id="total-val">$0.00</span>
        </button>
    </div>

    <script>
        const menu = {
            quraac: [
                { id: 1, name: "Canjeero & Beer", price: 3.5, img: "https://images.unsplash.com/photo-1593584785033-9c7604d0863f?w=200" },
                { id: 2, name: "Muufo & Suugo", price: 2.5, img: "https://images.unsplash.com/photo-1541518763669-279f00ed0144?w=200" },
                { id: 3, name: "Oodkac & Canjeero", price: 4.5, img: "https://images.unsplash.com/photo-1606787366850-de6330128bfc?w=200" },
                { id: 4, name: "Mushaari", price: 1.5, img: "https://images.unsplash.com/photo-1517673400267-0251440c45dc?w=200" },
                { id: 5, name: "Beer & Rooti", price: 3.0, img: "https://images.unsplash.com/photo-1533089860892-a7c6f0a88666?w=200" },
                { id: 6, name: "Ful Maysari", price: 2.0, img: "https://images.unsplash.com/photo-1599599810769-bcde5a160d32?w=200" },
                { id: 7, name: "Ukumaha (Eggs)", price: 1.5, img: "https://images.unsplash.com/photo-1482049016688-2d3e1b311543?w=200" },
                { id: 8, name: "Sabaayad & Suugo", price: 2.5, img: "https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=200" },
                { id: 9, name: "Malawax", price: 1.5, img: "https://images.unsplash.com/photo-1519708227418-c8fd9a32b7a2?w=200" },
                { id: 10, name: "Booris", price: 1.5, img: "https://images.unsplash.com/photo-15047546680a1-a75fb7a8af2e?w=200" }
            ],
            qado: [
                { id: 11, name: "Bariis & Hilib Ari", price: 5.0, img: "https://images.unsplash.com/photo-1512058560366-cd242d45869d?w=200" },
                { id: 12, name: "Baasto Suugo Geel", price: 4.5, img: "https://images.unsplash.com/photo-1541544741938-0af808871cc0?w=200" },
                { id: 13, name: "Bariis & Kalluun", price: 6.0, img: "https://images.unsplash.com/photo-1519708227418-c8fd9a32b7a2?w=200" },
                { id: 14, name: "Federation", price: 5.5, img: "https://images.unsplash.com/photo-1473093226795-af9932fe5856?w=200" },
                { id: 15, name: "Saloolata & Hilib", price: 4.0, img: "https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=200" },
                { id: 16, name: "Bariis & Doorasho", price: 5.0, img: "https://images.unsplash.com/photo-1567620985032-041f4a314afb?w=200" },
                { id: 17, name: "Suqaar Ari", price: 4.5, img: "https://images.unsplash.com/photo-1534422298391-e4f8c172dddb?w=200" },
                { id: 18, name: "Bariis Cad", price: 3.5, img: "https://images.unsplash.com/photo-1580476262798-bddd9f4b7369?w=200" },
                { id: 19, name: "Baasto Salid", price: 4.0, img: "https://images.unsplash.com/photo-1546549032-9571cd6b27df?w=200" },
                { id: 20, name: "Steak & Bariis", price: 7.0, img: "https://images.unsplash.com/photo-1546964124-0cce460f38ef?w=200" }
            ],
            casho: [
                { id: 21, name: "Pizza Tufaax", price: 8.0, img: "https://images.unsplash.com/photo-1513104890138-7c749659a591?w=200" },
                { id: 22, name: "Burger Combo", price: 5.5, img: "https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=200" },
                { id: 23, name: "Shawarma", price: 4.0, img: "https://images.unsplash.com/photo-1529006557810-274b9b2fc783?w=200" },
                { id: 24, name: "Sandwich Hilib", price: 2.5, img: "https://images.unsplash.com/photo-1521390188846-e2a39973e847?w=200" },
                { id: 25, name: "Hot Wings", price: 6.0, img: "https://images.unsplash.com/photo-1527477396000-e27163b481c2?w=200" },
                { id: 26, name: "Nuggets", price: 4.5, img: "https://images.unsplash.com/photo-1562967914-608f82629710?w=200" },
                { id: 27, name: "Kebab Rooti", price: 4.5, img: "https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=200" },
                { id: 28, name: "Club Sandwich", price: 3.5, img: "https://images.unsplash.com/photo-1528735602780-2552fd46c7af?w=200" },
                { id: 29, name: "Fries Large", price: 2.0, img: "https://images.unsplash.com/photo-1573080496219-bb080dd4f877?w=200" },
                { id: 30, name: "Pasta Pesto", price: 4.5, img: "https://images.unsplash.com/photo-1473093226795-af9932fe5856?w=200" }
            ],
            cabitaan: [
                { id: 31, name: "Fresh Tufaax", price: 1.5, img: "https://images.unsplash.com/photo-1567306226416-28f0efdc88ce?w=200" },
                { id: 32, name: "Mango Juice", price: 1.5, img: "https://images.unsplash.com/photo-1546173159-315724a31696?w=200" },
                { id: 33, name: "Avocado Special", price: 2.0, img: "https://images.unsplash.com/photo-1544903227-0b1a09ec60a2?w=200" },
                { id: 34, name: "Lemon Mint", price: 1.5, img: "https://images.unsplash.com/photo-1513558161293-cdaf765ed2fd?w=200" },
                { id: 35, name: "Vimto Shaky", price: 2.0, img: "https://images.unsplash.com/photo-1551024709-8f23befc6f87?w=200" },
                { id: 36, name: "Shaah Cadeys", price: 0.5, img: "https://images.unsplash.com/photo-1594631252845-29fc4586db92?w=200" },
                { id: 37, name: "Bun Soomaali", price: 1.0, img: "https://images.unsplash.com/photo-1541167760496-16295508e7f3?w=200" },
                { id: 38, name: "Biyo 500ml", price: 0.5, img: "https://images.unsplash.com/photo-1548919973-5cfe5d4fc474?w=200" },
                { id: 39, name: "Pepsi / Cola", price: 1.0, img: "https://images.unsplash.com/photo-1622483767028-3f66f32aef97?w=200" },
                { id: 40, name: "Isbaandheesh", price: 1.5, img: "https://images.unsplash.com/photo-1595981267035-7b04ca84a82d?w=200" }
            ]
        };

        let cart = {};

        function renderMenu() {
            const container = document.getElementById('menu-content');
            let html = "";
            for (let category in menu) {
                html += `<h4 class="section-title" id="${category}">${category.toUpperCase()}</h4>`;
                menu[category].forEach(item => {
                    html += `
                        <div class="food-card">
                            <img src="${item.img}" class="food-img">
                            <div class="item-info">
                                <div class="item-name">${item.name}</div>
                                <div class="item-price">$${item.price.toFixed(2)}</div>
                            </div>
                            <div class="qty-controls">
                                <button class="qty-btn" onclick="updateQty('${item.name}', ${item.price}, -1)">-</button>
                                <span class="qty-val" id="qty-${item.name}">0</span>
                                <button class="qty-btn" onclick="updateQty('${item.name}', ${item.price}, 1)">+</button>
                            </div>
                        </div>`;
                });
            }
            container.innerHTML = html;
        }

        function updateQty(name, price, delta) {
            if (!cart[name]) cart[name] = { qty: 0, price: price };
            cart[name].qty += delta;
            if (cart[name].qty < 0) cart[name].qty = 0;
            document.getElementById(`qty-${name}`).innerText = cart[name].qty;
            updateTotal();
        }

        function updateTotal() {
            let total = 0;
            for (let name in cart) total += cart[name].qty * cart[name].price;
            document.getElementById('total-val').innerText = `$${total.toFixed(2)}`;
        }

        function handleOrder() {
            let total = document.getElementById('total-val').innerText;
            if (total === "$0.00") return alert("Fadlan dooq ka bixi menu-ga!");

            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(pos => {
                    sendToWhatsApp(`http://maps.google.com/maps?q=${pos.coords.latitude},${pos.coords.longitude}`);
                }, () => sendToWhatsApp("Location lama bixin"));
            }
        }

        function sendToWhatsApp(location) {
            let text = "*DALAB CUSUB: TUFAAX RESTAURANT*%0A%0A";
            for (let name in cart) {
                if (cart[name].qty > 0) text += `‚úÖ ${cart[name].qty}x ${name}%0A`;
            }
            text += `%0A*WADARTA: ${document.getElementById('total-val').innerText}*`;
            text += `%0A%0Aüìç *Location-ka:*%0A${location}`;
            window.open(`https://wa.me/252617054480?text=${text}`, '_blank');
        }

        renderMenu();
    </script>
</body>

</html>
